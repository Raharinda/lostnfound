{% extends 'base.html' %}

{% block title %}Buat Laporan{% endblock %}

{% block content %}
<div class="min-h-screen flex items-center justify-center bg-blue-800">
  <div class="bg-white rounded-xl shadow-xl p-10 w-full max-w-lg">
    <h2 id="form-title" class="text-2xl font-bold text-blue-400 text-center mb-8">
      Buat Laporan Kehilangan
    </h2>

    <form method="POST" action="{{ url_for('report_bp.report') }}" 
      enctype="multipart/form-data"
      class="space-y-5">

      <!-- Pilih jenis laporan -->
      <div>
        <label class="block text-sm text-gray-700">Jenis Laporan</label>
        <select id="report-type" name="report_type"
                class="w-full border-b border-gray-300 py-2 focus:outline-none text-sm text-blue-400">
          <option value="lost" selected>Kehilangan Barang</option>
          <option value="found">Menemukan Barang</option>
        </select>
      </div>

      <div>
        <label class="block text-sm text-gray-700">Nama Barang</label>
        <input type="text" name="item_name" required
               class="w-full border-b border-gray-300 py-2 focus:outline-none text-sm text-blue-400"
               placeholder="Misal: Dompet hitam" />
      </div>

      <div>
        <label class="block text-sm text-gray-700">Deskripsi</label>
        <textarea name="description" rows="3"
                  class="w-full border-b border-gray-300 py-2 focus:outline-none text-sm text-blue-400"
                  placeholder="Ceritakan detail barang..."></textarea>
      </div>

      <div>
        <label id="location-label" class="block text-sm text-gray-700">Lokasi Hilang</label>
        <input type="text" name="location" required
               class="w-full border-b border-gray-300 py-2 focus:outline-none text-sm text-blue-400"
               placeholder="Lokasi kehilangan" />
      </div>

      <div>
        <label class="block text-sm text-gray-700">Kontak</label>
        <input type="text" name="contact" required
               class="w-full border-b border-gray-300 py-2 focus:outline-none text-sm text-blue-400"
               placeholder="No. WA / Email" />
      </div>

      <div>
  <label class="block text-sm text-gray-700">Gambar (Opsional)</label>
  <input type="file" name="image"
         class="w-full border-b border-gray-300 py-2 focus:outline-none text-sm text-blue-400"
         accept="image/*">
</div>


      <button id="submit-btn" type="submit"
              class="w-full py-2 rounded-full bg-blue-400 text-white font-semibold hover:opacity-90 transition">
        KIRIM LAPORAN KEHILANGAN
      </button>
    </form>
  </div>
</div>

<script>
  const reportType = document.getElementById("report-type");
  const title = document.getElementById("form-title");
  const locationLabel = document.getElementById("location-label");
  const submitBtn = document.getElementById("submit-btn");

  reportType.addEventListener("change", function () {
    if (this.value === "found") {
      title.textContent = "Laporan Menemukan Barang";
      locationLabel.textContent = "Lokasi Ditemukan";
      submitBtn.textContent = "KIRIM LAPORAN PENEMUAN";
    } else {
      title.textContent = "Laporan Kehilangan Barang";
      locationLabel.textContent = "Lokasi Hilang";
      submitBtn.textContent = "KIRIM LAPORAN KEHILANGAN";
    }
  });
</script>
{% endblock %}
